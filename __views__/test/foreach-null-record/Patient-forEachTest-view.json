{
    "resourceType": "http://hl7.org/fhir/uv/sql-on-fhir/StructureDefinition/ViewDefinition",
    "name": "Patient_Test",
    "status": "draft",
    "resource": "Patient",
    "select": [
        {
            "column": [
                {
                    "path": "getResourceKey()",
                    "name": "patient_id"
                },
                {
                    "path": "active",
                    "name": "active"
                },
                {
                    "path": "gender",
                    "name": "gender"
                },
                {
                    "path": "birthDate",
                    "name": "birth_date"
                }
            ]
        },
        {
            "forEach": "address",
            "column": [
                {
                    "path": "line.join('\n')",
                    "name": "street"
                },
                {
                    "path": "city",
                    "name": "city"
                },
                {
                    "path": "state",
                    "name": "state"
                },
                {
                    "path": "postalCode",
                    "name": "zip"
                },
                {
                    "path": "country",
                    "name": "country"
                }
            ]
        }
    ]
}