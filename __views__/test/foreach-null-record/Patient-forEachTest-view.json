{
    "resourceType": "http://hl7.org/fhir/uv/sql-on-fhir/StructureDefinition/ViewDefinition",
    "name": "Patient",
    "status": "draft",
    "resource": "Patient",
    "select": [
        {
            "column": [
                {
                    "path": "getResourceKey()",
                    "name": "patient_id"
                },
                {
                    "path": "active",
                    "name": "active"
                },
                {
                    "path": "gender",
                    "name": "gender"
                },
                {
                    "path": "birthDate",
                    "name": "birth_date"
                },
                {
                    "path": "(deceased as Boolean)",
                    "name": "deceased_boolean"
                },
                {
                    "path": "(deceased as DateTime)",
                    "name": "deceased_date_time"
                },
                {
                    "path": "maritalStatus.text",
                    "name": "marital_status"
                },
                {
                    "path": "(multipleBirth as Boolean)",
                    "name": "multiple_birth_boolean"
                },
                {
                    "path": "(multipleBirth as Integer)",
                    "name": "multiple_birth_integer"
                },
                {
                    "path": "extension.where(url = 'http://hl7.org/fhir/us/core/StructureDefinition/us-core-race').extension.where(url = 'ombCategory').valueCoding.display",
                    "name": "race"
                },
                {
                    "path": "extension.where(url = 'http://hl7.org/fhir/us/core/StructureDefinition/us-core-ethnicity').extension.where(url = 'ombCategory').valueCoding.display",
                    "name": "ethnicity"
                }
            ]
        },
        {
            "forEach": "address",
            "column": [
                {
                    "path": "line[0]",
                    "name": "street"
                },
                {
                    "path": "city",
                    "name": "city"
                },
                {
                    "path": "state",
                    "name": "state"
                },
                {
                    "path": "postalCode",
                    "name": "zip"
                },
                {
                    "path": "country",
                    "name": "country"
                }
            ]
        }
    ]
}